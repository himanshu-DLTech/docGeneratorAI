<!-- 
(C) 2015 TekMonks. All rights reserved.
License: See enclosed license.txt file.
-->
<!doctype html>
<html>
	
<head>
	<meta charset="UTF-8">
	<meta name=viewport content="width=device-width, initial-scale=1.0, minimum-scale=0.5 maximum-scale=1.0">
	<link href="./img/favicon.svg" rel="icon" type="image/svg+xml">

	<link rel="preload" as="image" href="./img/loading.svg">
	<link rel="preload" as="image" href="./img/errorloading.svg">

	<title>Neuranet</title>

	<!-- Use webpack -->
	<script type="text/javascript" src="/framework/js/$$.js"></script>

	<!-- And off we go ... -->
	<script type="text/javascript">$$.boot(new URL("./", window.location), new URL("./conf", window.location));</script>

	<style>
		html, body {
			width: 100%;
			height: 100%;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			margin: 0;
			background-color: #4fb3ed23;
		}

		img#__org_monkshu_indexpage_spinner {
			width: 30vw; 
			height: 30vw; 
			max-width: 9em;
			max-height: 9em; 
			visibility: hidden;
		}

		img#neuranet_loading {
			width: 30vw; 
			height: 30vw; 
			max-width: 9em;
			max-height: 9em; 
		}
		@media (orientation: portrait) { body > img {width: 50vw; height: 50vw;} }
	</style>
</head>

<body>
	<img id="__org_monkshu_indexpage_spinner" src="./img/loading.svg" onclick="window.open(APP_CONSTANTS.APP_ABOUT_URL, '_blank')">
	<img id="neuranet_loading" src="./img/neuranetloading.svg" onclick="window.open(APP_CONSTANTS.APP_ABOUT_URL, '_blank')">

	<!-- Show the waiting spinner if waiting for more than default timeout and error if there are network issues -->
	<script type="text/javascript">
		const SPINNER_WAIT_TIMEOUT = 750;	// 750 miliseconds before spinner shows up
		document.addEventListener("DOMContentLoaded", _=>setTimeout(_=> {
			const imgElement = document.querySelector("img#__org_monkshu_indexpage_spinner");
			if (imgElement) imgElement.style.visibility="visible"
		}, SPINNER_WAIT_TIMEOUT));

		const ERROR_SPINNER_WAIT_TIMEOUT = 15000;	// 10 seconds before error spinner shows up
		document.addEventListener("DOMContentLoaded", _=>setTimeout(_=> {
			const imgElement = document.querySelector("img#__org_monkshu_indexpage_spinner");
			if (imgElement) {imgElement.src = "./img/errorloading.svg"; $$.setSlowNetwork(true);}
			const imgElement2 = document.querySelector("img#neuranet_loading");
			if (imgElement2) imgElement2.src = "./img/errorneuranetloading.svg";
		}, ERROR_SPINNER_WAIT_TIMEOUT));
	</script>
</body>
</html>
